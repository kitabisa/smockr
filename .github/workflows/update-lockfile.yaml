name: Update lockfile
on: workflow_dispatch

jobs:
  update-lockfile:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Setup bun
        uses: oven-sh/setup-bun@v1
        with:
          bun-version: latest
    
      - name: Update lockfile
        run: bun install
    
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
            commit-message: 'build(main): update lockfile'
            title: 'build(main): update lockfile'
            body: |
              - bun.lockb updates
  
              Auto-generated by [create-pull-request][1]
  
              [1]: https://github.com/peter-evans/create-pull-request
            branch: build/update-lockfile
 
